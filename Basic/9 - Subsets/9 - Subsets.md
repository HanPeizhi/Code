

## [78. 子集](https://leetcode-cn.com/problems/subsets/)

给你一个整数数组 nums ，返回该数组所有可能的子集（幂集）。解集不能包含重复的子集。


示例 1：

输入：nums = [1,2,3]
输出：[[],[1],[2],[1,2],[3],[1,3],[2,3],[1,2,3]]
示例 2：

输入：nums = [0]
输出：[[],[0]]

思路：

| **序数\元素** | **5** | **2** | **9** | **subset** |
| :-----------: | :---: | :---: | :---: | :--------: |
|     **0**     |   0   |   0   |   0   |     {}     |
|     **1**     |   0   |   0   |   1   |    {9}     |
|     **2**     |   0   |   1   |   0   |    {2}     |
|     **3**     |   0   |   1   |   1   |   {2,9}    |
|     **4**     |   1   |   0   |   0   |    {5}     |
|     **5**     |   1   |   0   |   1   |   {5,9}    |
|     **6**     |   1   |   1   |   0   |   {5,2}    |
|     **7**     |   1   |   1   |   1   |  {5,2,9}   |

~~~C++
class Solution {
public:
    vector<vector<int>> subsets(vector<int>& nums) {
        // 上表我们看到可以用二进制排列出完整的子集
        // 并且用于排列子集的二进制式等于十进制的行数，也就是左边迭代的序数
        // 
        // 同时还可以发现原序列中的元素个数等于2^n个子集，因为二进制的原理
        // 比如，元素有3个，那么就需要有3位去代表，
        // 每位只有0和1去代表子集中有没有这个元素，那么就是2*2*2=2^3=8个
        // 
        // 每次所迭代的所有子集的最大长度子集是迭代的序数
        // 比如迭代序数0，那么就是空，长度0；
        // 又比如迭代序数3，有子集{5，9}、{5，2}、{5，2，9}，
        // 所以最大长度子集是{5，2，9}，长度3，
        // 因为每次新的子集都是在之前的子集的基础上累积的
        // 
        // 同时有3个元素那么就要每个元素都检查一遍，就要检查3遍
        // 即每次迭代中，也就是每一次的序数中，多少个元素就要检查多少遍
        // 检查可以从左到右，即最高位到最低位，也可以从右到左，最低到最高
        // 所以就需要 int i=0, 1<<i, i<n, ++i
        // 大概背后的原理逻辑就是这样了
        
        int n = nums.size();
        int max = 1 << n;   // 2^n
        vector<vector<int> > res;

        for(int mask = 0; mask < max; ++mask){
            vector<int> tmp;
            for(int i = 0; i < n; ++i){
                if(mask & (1 << i)){
                    tmp.push_back(nums[i]);
                }
            }
            res.push_back(tmp);

        } 
        return res;
    }
};
~~~



## Reference:

[1](https://leetcode-cn.com/problems/subsets/solution/zi-ji-by-leetcode-solution/)

[回溯 + 位运算技巧](https://leetcode-cn.com/problems/subsets/solution/hui-su-python-dai-ma-by-liweiwei1419/)

